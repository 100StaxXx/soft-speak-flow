import{r as x,j as e,aR as j,ax as n,H as k,J as N,ac as C}from"./vendor-DK8VKJIv.js";import{B as v,f as $}from"./index-vNUnYBjj.js";import{s as f,g as y}from"./clipboard-3OJHfwXT.js";import{a as S}from"./redirectUrl-BrdfvnoF.js";const E=x.memo(({title:c,text:a,url:d,className:p=""})=>{const[t,o]=x.useState(!1),m=async()=>{if(!t){o(!0);try{const s={title:c,text:a,url:d||window.location.href},r=`${a}

${s.url}`;navigator.share?(await navigator.share(s),n.success("Shared successfully!")):await f(r)?n.success("Link copied to clipboard!"):n.error("Failed to copy to clipboard")}catch(s){console.error("Error sharing:",s);const r=s?.message?.toLowerCase()||s?.toString?.()?.toLowerCase()||"";if(!(r.includes("cancel")||r.includes("abort")||r.includes("dismissed")||s?.name==="AbortError")){const u=`${a}

${d||window.location.href}`;await f(u)?n.info("Couldn't share, but link was copied to clipboard!"):n.error(y(s))}}finally{o(!1)}}};return e.jsx(v,{variant:"outline",size:"icon",onClick:m,disabled:t,className:p,"aria-label":"Share",children:e.jsx(j,{className:`h-4 w-4 ${t?"animate-pulse":""}`})})}),M=x.memo(({id:c,title:a,category:d,topicCategories:p,description:t,quote:o,isPremium:m,onClick:s,emotionalTriggers:r,highlightedTriggers:l})=>{const u=k(),g=Array.from(new Set([d,...p||[]].filter(Boolean))),h=l&&l.length>0&&r?.some(i=>l.includes(i)),b=()=>{s?s():u(`/pep-talk/${c}`)};return e.jsxs($,{onClick:b,className:`p-5 cursor-pointer hover:shadow-glow transition-all duration-300 bg-graphite border-2 ${h?"border-royal-gold shadow-glow":"border-steel/20"} hover:border-royal-gold rounded-lg relative`,children:[m&&e.jsx("div",{className:"absolute top-4 right-12",children:e.jsxs("span",{className:"bg-royal-gold text-obsidian text-xs font-black px-3 py-1 rounded inline-flex items-center gap-1 uppercase tracking-wide",children:[e.jsx(N,{className:"h-3 w-3"}),"Pro"]})}),e.jsx("div",{className:"absolute top-4 right-4",onClick:i=>i.stopPropagation(),children:e.jsx(E,{title:a,text:`${a} - ${t||o||""}`,url:`${S()}/pep-talk/${c}`})}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${h?"bg-stardust-gold animate-pulse":"bg-stardust-gold"}`,children:e.jsx(C,{className:"h-5 w-5 text-black",fill:"currentColor"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[g.map((i,w)=>e.jsx("span",{className:"text-xs font-bold text-stardust-gold uppercase tracking-wider",children:i},w)),h&&e.jsx("span",{className:"text-xs font-bold text-stardust-gold uppercase tracking-wider animate-pulse",children:"âœ¨ Match"})]}),e.jsx("h3",{className:"font-heading text-base md:text-lg font-black text-pure-white mb-2 line-clamp-2 uppercase tracking-tight break-words",children:a}),e.jsx("p",{className:"text-sm text-steel line-clamp-2 break-words",children:t||o||""})]})]})]})});export{M as P,E as S};
