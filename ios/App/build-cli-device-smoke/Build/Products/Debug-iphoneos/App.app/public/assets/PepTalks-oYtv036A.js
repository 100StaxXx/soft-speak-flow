import{bd as k,H as _,r as n,q as C,j as e,co as P,dI as y,m as u,ae as S,X as j,K as q,aj as T,cP as A}from"./vendor-DK8VKJIv.js";import{e as I,S as F,B as x,ad as B,an as h,J as d,aq as o,ai as E,s as M}from"./index-BJ43zXLh.js";import{P as z}from"./PepTalkCard-CExGJuq0.js";import"./date-vendor-BRrA_NVo.js";import"./three-vendor-qI8GXUTd.js";import"./clipboard-3OJHfwXT.js";import"./redirectUrl-BrdfvnoF.js";const R=[{label:"Discipline",value:"discipline"},{label:"Confidence",value:"confidence"},{label:"Physique",value:"physique"},{label:"Focus",value:"focus"},{label:"Mindset",value:"mindset"},{label:"Business",value:"business"}],L=["Exhausted","Avoiding Action","Anxious & Overthinking","Self-Doubt","Feeling Stuck","Frustrated","Heavy or Low","Emotionally Hurt","Unmotivated","In Transition","Needing Discipline","Motivated & Ready"];function J(){const r=k(),b=_(),[t,c]=n.useState(null),[a,m]=n.useState(null),[N,p]=n.useState(!1),{data:i,isLoading:w}=C({queryKey:["pep-talks",t,a],queryFn:async()=>{let s=M.from("pep_talks").select("*").order("created_at",{ascending:!1});t&&(s=s.contains("topic_category",[t])),a&&(s=s.contains("emotional_triggers",[a]));const{data:l,error:v}=await s.limit(50);if(v)throw v;return l||[]},staleTime:300*1e3}),g=n.useCallback(()=>{c(null),m(null)},[]),f=t||a;return e.jsxs(I,{children:[e.jsx(F,{}),e.jsxs("div",{className:"min-h-screen pb-nav-safe relative z-10",children:[e.jsx("div",{className:"sticky top-0 z-50 cosmiq-glass-header border-b border-cosmiq-glow/10 safe-area-top",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-3 pt-safe",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{variant:"ghost",size:"icon",onClick:()=>b("/mentor"),className:"rounded-full h-9 w-9 bg-muted/30 hover:bg-muted/50",children:e.jsx(P,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-primary to-stardust-gold flex items-center justify-center",children:e.jsx(y,{className:"h-4 w-4 text-primary-foreground"})}),e.jsx("h1",{className:"text-lg font-semibold tracking-tight",children:"Pep Talks"})]})]}),e.jsx(B,{onClick:()=>p(!0)})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsx(u.div,{initial:r?!1:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:r?0:.24},className:"mb-6",children:e.jsxs(h,{variant:"hero",glow:"accent",className:"p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-stardust-gold/20 to-transparent rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-primary/20 to-transparent rounded-full blur-xl"}),e.jsxs("div",{className:"relative z-10 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4 text-stardust-gold"}),e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"How are you feeling?"})]}),f&&e.jsxs(x,{variant:"ghost",size:"sm",onClick:g,className:"h-7 px-2 text-xs text-muted-foreground hover:text-foreground",children:[e.jsx(j,{className:"h-3 w-3 mr-1"}),"Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(d,{variant:a?"outline":"default",className:`cursor-pointer transition-all duration-200 ${a?"hover:border-primary/50 hover:bg-primary/8":"bg-primary text-primary-foreground shadow-[0_8px_18px_hsl(var(--primary)/0.3)]"}`,onClick:()=>m(null),children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),"All"]}),L.map(s=>e.jsx(d,{variant:a===s?"default":"outline",className:`cursor-pointer transition-all duration-200 ${a===s?"bg-primary text-primary-foreground shadow-[0_8px_18px_hsl(var(--primary)/0.3)]":"hover:border-primary/50 hover:bg-primary/8"}`,onClick:()=>m(s),children:s},s))]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-cosmiq-glow/30 to-transparent"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(T,{className:"h-4 w-4 text-primary"}),e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"What do you need?"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(d,{variant:t?"outline":"default",className:`cursor-pointer transition-all duration-200 ${t?"hover:border-stardust-gold/50 hover:bg-stardust-gold/10":"bg-stardust-gold text-background shadow-[0_8px_18px_hsl(var(--stardust-gold)/0.35)]"}`,onClick:()=>c(null),children:"All Topics"}),R.map(s=>e.jsx(d,{variant:t===s.value?"default":"outline",className:`cursor-pointer transition-all duration-200 ${t===s.value?"bg-stardust-gold text-background shadow-[0_8px_18px_hsl(var(--stardust-gold)/0.35)]":"hover:border-stardust-gold/50 hover:bg-stardust-gold/10"}`,onClick:()=>c(s.value),children:s.label},s.value))]})]})]})]})}),e.jsx("div",{className:"space-y-4",children:w?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,l)=>e.jsx(h,{variant:"default",className:"p-5",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(o,{className:"h-12 w-12 rounded-full shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx(o,{className:"h-5 w-3/4"}),e.jsx(o,{className:"h-4 w-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{className:"h-5 w-16 rounded-full"}),e.jsx(o,{className:"h-5 w-20 rounded-full"})]})]})]})},l))}):i&&i.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," pep talk",i.length!==1?"s":""," found"]})}),i.map((s,l)=>e.jsx(u.div,{initial:r?!1:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:r?0:.2,delay:r?0:l*.04},children:e.jsx(z,{id:s.id,title:s.title,category:s.category,topicCategories:s.topic_category||[],description:s.description,quote:s.quote,isPremium:s.is_premium||!1,emotionalTriggers:s.emotional_triggers||[],highlightedTriggers:a?[a]:void 0})},s.id))]}):e.jsx(u.div,{initial:r?!1:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:r?0:.2},children:e.jsxs(h,{variant:"elevated",glow:"soft",className:"p-12 text-center",children:[e.jsx("div",{className:"h-16 w-16 mx-auto rounded-full bg-gradient-to-br from-primary/20 to-stardust-gold/20 flex items-center justify-center mb-4",children:e.jsx(y,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No pep talks found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your filters to discover more content"}),f&&e.jsxs(x,{onClick:g,variant:"outline",className:"border-primary/50",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})})})]}),e.jsx(E,{open:N,onClose:()=>p(!1),title:"About Pep Talks",icon:A,description:"Motivational audio content to inspire and uplift you throughout your day.",features:["Browse pep talks by emotional state or topic","Listen for XP when you complete 80% of an audio","Filter by what you're feeling or what you need","Get personalized content based on your zodiac","Save favorites to revisit when you need them"],tip:"Listen to a pep talk each morning to start your day with the right energy!"})]})]})}export{J as default};
