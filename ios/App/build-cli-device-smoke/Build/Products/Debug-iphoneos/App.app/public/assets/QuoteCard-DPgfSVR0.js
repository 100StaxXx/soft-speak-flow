import{r,j as e,ac as h}from"./vendor-DK8VKJIv.js";import{u as b,s as o}from"./index-BJ43zXLh.js";import{S as w}from"./PepTalkCard-CExGJuq0.js";const N=r.memo(({quote:u,isFavorited:f,onFavoriteChange:p})=>{const{id:i,text:n,author:a,is_premium:x}=u,[l,d]=r.useState(f||!1),[v,c]=r.useState(!1),{toast:m}=b(),g=async()=>{c(!0);try{const{data:{session:t}}=await o.auth.getSession();if(!t){m({title:"Sign in required",description:"Please sign in to save favorites",variant:"destructive"});return}if(l){const{error:s}=await o.from("favorites").delete().eq("user_id",t.user.id).eq("content_type","quote").eq("content_id",i);if(s)throw s;d(!1)}else{const{error:s}=await o.from("favorites").insert({user_id:t.user.id,content_type:"quote",content_id:i});if(s)throw s;d(!0)}p?.()}catch(t){console.error("Error toggling favorite:",t),m({title:"Error",description:t instanceof Error?t.message:"Failed to update favorite",variant:"destructive"})}finally{c(!1)}};return e.jsxs("div",{className:"relative bg-gradient-to-br from-petal-pink/30 to-lavender-mist/20 rounded-3xl p-6 shadow-soft border border-petal-pink/20",children:[e.jsx("button",{onClick:g,disabled:v,className:"absolute top-4 left-4 hover:scale-110 transition-transform disabled:opacity-50",children:e.jsx(h,{className:`h-5 w-5 ${l?"fill-nebula-pink text-nebula-pink":"text-celestial-blue/50"}`})}),e.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[x&&e.jsx("span",{className:"bg-gradient-to-r from-stardust-gold to-amber-500 text-black text-xs font-medium px-3 py-1 rounded-full shadow-[0_0_10px_hsl(var(--stardust-gold)/0.4)]",children:"Premium"}),e.jsx(w,{title:"Motivational Quote",text:`"${n}"${a?` - ${a}`:""}`})]}),e.jsx("div",{className:"mt-8 mb-4",children:e.jsxs("p",{className:"text-warm-charcoal text-base md:text-lg font-medium leading-relaxed italic break-words",children:['"',n,'"']})}),a&&e.jsxs("p",{className:"text-warm-charcoal/60 text-sm break-words",children:["â€” ",a]})]})});export{N as Q};
