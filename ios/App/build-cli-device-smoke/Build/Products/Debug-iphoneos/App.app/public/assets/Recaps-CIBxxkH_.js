import{H as c,j as e,cg as o,K as x,aQ as i,m,aS as h,aT as p,aU as u}from"./vendor-DK8VKJIv.js";import{b2 as j,e as f,S as g,B as b,b3 as N,av as v}from"./index-BJ43zXLh.js";import{F as l,o as d}from"./date-vendor-BRrA_NVo.js";import"./three-vendor-qI8GXUTd.js";const y=({trend:s})=>{switch(s){case"improving":return e.jsx(u,{className:"h-4 w-4 text-green-400"});case"declining":return e.jsx(p,{className:"h-4 w-4 text-red-400"});default:return e.jsx(h,{className:"h-4 w-4 text-yellow-400"})}},w=({recap:s,onClick:a})=>{const r=l(s.week_start_date),n=l(s.week_end_date),t=`${d(r,"MMM d")} - ${d(n,"MMM d, yyyy")}`;return e.jsxs(m.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:a,className:"w-full p-4 rounded-2xl bg-card/50 border border-border/30 hover:border-primary/30 transition-all text-left",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(i,{className:"h-4 w-4"}),t]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(y,{trend:s.mood_data.trend}),e.jsx("span",{className:"text-xs text-muted-foreground",children:v(s.mood_data.trend)})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-blue-400",children:s.stats.checkIns}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Check-ins"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-purple-400",children:s.stats.reflections}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Reflections"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-green-400",children:s.stats.quests}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Quests"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-amber-400",children:s.stats.habits}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Habits"})]})]}),s.win_highlights.length>0&&e.jsx("div",{className:"mt-3 pt-3 border-t border-border/30",children:e.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-1",children:["âœ¨ ",s.win_highlights[0]]})})]})},C=()=>{const s=c(),{pastRecaps:a,isLoading:r,openRecap:n}=j();return e.jsxs(f,{children:[e.jsx(g,{}),e.jsxs("div",{className:"min-h-screen pb-nav-safe pt-safe relative z-10",children:[e.jsx("div",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-xl border-b border-border/50 safe-area-top",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{variant:"ghost",size:"icon",onClick:()=>s("/profile"),children:e.jsx(o,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5 text-amber-400"}),"Weekly Recaps"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your reflection history"})]})]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-4 relative z-10",children:r?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):a.length===0?e.jsxs("div",{className:"text-center py-12 space-y-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-muted/30 flex items-center justify-center",children:e.jsx(i,{className:"h-8 w-8 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"No recaps yet"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Complete check-ins and reflections to build your recap history.",e.jsx("br",{}),"Your first recap will appear next Sunday!"]})]})]}):e.jsx("div",{className:"space-y-3",children:a.map(t=>e.jsx(w,{recap:t,onClick:()=>n(t)},t.id))})})]}),e.jsx(N,{})]})};export{C as default};
