diff --git a/node_modules/@capgo/native-purchases/ios/Sources/NativePurchasesPlugin/NativePurchasesPlugin.swift b/node_modules/@capgo/native-purchases/ios/Sources/NativePurchasesPlugin/NativePurchasesPlugin.swift
index 7cb921e..3147391 100644
--- a/node_modules/@capgo/native-purchases/ios/Sources/NativePurchasesPlugin/NativePurchasesPlugin.swift
+++ b/node_modules/@capgo/native-purchases/ios/Sources/NativePurchasesPlugin/NativePurchasesPlugin.swift
@@ -50,7 +50,7 @@ public class NativePurchasesPlugin: CAPPlugin, CAPBridgedPlugin {
     private func startTransactionUpdatesListener() {
         // Ensure only one listener is running
         cancelTransactionUpdatesListener()
-        let task = Task.detached { [weak self] in
+        let task = Task { @MainActor [weak self] in
             for await result in Transaction.updates {
                 guard !Task.isCancelled else { break }
                 switch result {
@@ -356,5 +356,9 @@ public class NativePurchasesPlugin: CAPPlugin, CAPBridgedPlugin {
         }
     }

 }

+#if swift(>=5.5)
+extension NativePurchasesPlugin: @unchecked Sendable {}
+#endif

